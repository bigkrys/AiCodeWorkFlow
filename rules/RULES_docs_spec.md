# 文档生成规则：需求规格书（SPEC）

## 核心目标
1. 输出可执行、可验证的规格（Specification）
2. 不写实现、不写代码，只描述“WHAT”
3. 任何假设都必须标注为“假设”，任何不确定性写入“开放问题”

## 内容规范
- 所有标题层级必须从 `# 背景与目标` 开始。
- Mermaid 图必须能直接在 Markdown 渲染中工作。
- 类型定义必须是 TypeScript interface 或 type。
- 所有输入/输出结构体命名采用 PascalCase。
- 时间、货币、ID 等字段要注明单位和类型（例如：`timestamp: number(ms)`）。

## 格式约束
- 每个章节标题后至少两行正文。
- 所有代码块须声明语言（如 ```ts）。
- 所有 TODO 必须以 `- [ ]` 开头。

## 输出控制
- 文件：`spec/SPEC.md`
- 编码：UTF-8
- 若已有章节，允许增量更新但不得删除旧信息。
