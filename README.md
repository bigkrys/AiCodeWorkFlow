# åœ¨VScodeä¸­æ­å»º Copilot Ã— Codex æ™ºèƒ½åä½œå·¥ä½œæµï¼ˆå¯æ ¹æ®è‡ªå·±çš„agentè°ƒæ•´ï¼‰
> ä¸€ä¸ªåŸºäº **GPT-5 Codex + GitHub Copilot** çš„å…¨è‡ªåŠ¨ AI ç¼–ç¨‹å·¥ä½œæµæ¨¡æ¿ã€‚  
> Codex è´Ÿè´£ç”Ÿäº§ï¼ŒCopilot è´Ÿè´£å®¡æŸ¥ã€‚

## ğŸ§­ ä¸€ã€æ ¸å¿ƒç†å¿µ

1. **ä¸Šä¸‹æ–‡å…ˆè¡Œ**ï¼šAI çš„èªæ˜å–å†³äºä½ å–‚çš„**ä¸Šä¸‹æ–‡**ã€‚
2. **ä¸€æ­¥ä¸€åœ**ï¼šæ¯æ¬¡åªæ‰§è¡Œä¸€ä¸ªæœ€å°ä»»åŠ¡å•å…ƒã€‚
3. **æ–‡ä»¶ä¸ºå¥‘çº¦**ï¼šæ‰€æœ‰äº¤æ¥éƒ½é€šè¿‡ JSON + Markdown æ–‡ä»¶ã€‚
4. **AI ä¸æ›¿äººå†³ç­–**ï¼šAI å†™æ–‡æ¡£ã€å†™ä»£ç ã€æå®¡ï¼›äººç±»**å®šæ–¹å‘ã€å®¡è´¨é‡ã€æ”¾è¡Œ**ã€‚
5. **CI æ˜¯è£åˆ¤**ï¼šæ‰€æœ‰ [BLOCKER] ä¸å¥‘çº¦ä¸ç¬¦çš„æ”¹åŠ¨ï¼Œè‡ªåŠ¨é˜»æ–­ã€‚

æ•´ä¸ªç³»ç»Ÿçš„å¾ªç¯èŠ‚å¥æ˜¯ï¼š
éœ€æ±‚è¿›å…¥ â†’ æ„å»ºä¸Šä¸‹æ–‡ â†’ ç”Ÿæˆ SPEC â†’ ç”Ÿæˆ PLAN
   â†“
æ‹†ä»»åŠ¡ â†’ å®ç°å­ä»»åŠ¡ â†’ è‡ªåŠ¨æµ‹è¯• â†’ å¦ä¸€ä¸ªagentå®¡æŸ¥ â†’ æäº¤ä»£ç 


## äºŒã€æ•´ä½“ AI å·¥ä½œæµå›¾
```mermaid
flowchart TD
  A[è¾“å…¥éœ€æ±‚æˆ–æ›´æ–°è¯´æ˜] --> B[AI Â· æ„å»ºä¸Šä¸‹æ–‡<br/>inject-context.js]
  B --> C[AI Â· é¡¹ç›®ç†è§£<br/>â†’ ç”Ÿæˆ SPEC]
  C --> D[AI Â· æŠ€æœ¯æ–¹æ¡ˆ<br/>â†’ ç”Ÿæˆ PLAN]
  D --> E[AI Â· ä»£ç å®ç°<br/>â†’ æ”¹åŠ¨ src/*]
  E --> F[AI Â· ç”Ÿæˆå•æµ‹<br/>â†’ tests/*]
  F --> G[AI Â· æµç¨‹æ·±æŒ–<br/>â†’ docs/flow.md]
  G --> H[AI Â· æœ¬åœ°å®¡æŸ¥åªå®¡ä¸å†™]
  H --> I[PR â†’ GitHub Review Agent/äººReview]
  I -->|é€šè¿‡| J[Merge]
  I -->|é©³å›| E

```

## ä¸‰ã€ç›®å½•ç»“æ„æ€»è§ˆ
AiCodeWorkFlow/
â”‚
â”œâ”€â”€ .vscode/
â”‚   â””â”€â”€ tasks.json                      # VSCode ä»»åŠ¡å·¥ä½œæµé…ç½®ï¼ˆè§¦å‘æ¯ä¸ªé˜¶æ®µï¼‰
â”‚
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ codex-run.js                # é€šç”¨æ‰§è¡Œå™¨ï¼šæ³¨å…¥ prompt + rule + context
â”‚       â”œâ”€â”€ inject-context.js           # ä» docs/spec/src æ„å»ºä¸Šä¸‹æ–‡æ‘˜è¦
â”‚       â”œâ”€â”€ review-local.js             # æœ¬åœ°åªå®¡ä¸å†™å®¡æŸ¥
â”‚       â””â”€â”€ provider.js                 # æ¨¡å‹è°ƒåº¦ï¼šCodex / Copilot / Claude / Perplexity
â”‚
â”œâ”€â”€ .prompts/
â”‚   â”œâ”€â”€ 01_project_understanding.md     # é¡¹ç›®ç†è§£ â†’ SPEC
â”‚   â”œâ”€â”€ 02_solution_design.md           # æŠ€æœ¯æ–¹æ¡ˆ/è®¾è®¡ â†’ PLAN
â”‚   â”œâ”€â”€ 03_code_impl.md                 # ä»£ç å®ç°
â”‚   â”œâ”€â”€ 04_unit_test.md                 # å•å…ƒ/å¥‘çº¦æµ‹è¯•
â”‚   â”œâ”€â”€ 05_flow_analysis.md             # æµç¨‹åˆ†ææ–‡æ¡£
â”‚   â””â”€â”€ 99_research.md                  # æ·±åº¦ç ”ç©¶
â”‚
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ RULES_docs_spec.md              # SPEC ç”Ÿæˆè§„èŒƒ
â”‚   â”œâ”€â”€ RULES_solution_spec.md          # æŠ€æœ¯æ–¹æ¡ˆè§„èŒƒ
â”‚   â”œâ”€â”€ RULES_task_generation.md        # ä»»åŠ¡æ‹†åˆ†è§„èŒƒ
â”‚   â”œâ”€â”€ RULES_ts_dev_guidelines.md      # TS å¼€å‘è§„èŒƒ
â”‚   â”œâ”€â”€ RULES_middleware_ts.md          # ä¸­é—´å±‚è§„èŒƒ
â”‚   â”œâ”€â”€ RULES_flow_analysis.md          # æµç¨‹åˆ†æè§„èŒƒ
â”‚   â””â”€â”€ RULES_review_spec.md            # å®¡æŸ¥è§„èŒƒï¼ˆåªå®¡ä¸å†™ï¼‰
â”‚
â”œâ”€â”€ spec/
â”‚   â”œâ”€â”€ SPEC.md                         # è‡ªåŠ¨ç”Ÿæˆï¼šéœ€æ±‚è§„æ ¼
â”‚   â”œâ”€â”€ PLAN.md                         # è‡ªåŠ¨ç”Ÿæˆï¼šæŠ€æœ¯æ–¹æ¡ˆ
â”‚   â””â”€â”€ TASKS.md                        # è‡ªåŠ¨ç”Ÿæˆï¼šä»»åŠ¡æ‹†åˆ†
â”‚
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ æ–¹æ¡ˆè®¾è®¡.md                      # æ·±åº¦ç‰ˆæ–¹æ¡ˆè®¾è®¡
â”‚   â”œâ”€â”€ research.md                     # æ·±åº¦ç ”ç©¶æŠ¥å‘Š
â”‚   â””â”€â”€ *-flow.md                       # è‡ªåŠ¨ç”Ÿæˆï¼šæµç¨‹åˆ†æ
â”‚
â”œâ”€â”€ src/                                # ä¸šåŠ¡æºä»£ç ï¼ˆCodex è‡ªåŠ¨ä¿®æ”¹åŒºï¼‰
â”‚   â””â”€â”€ index.ts
â”‚
â”œâ”€â”€ tests/                              # è‡ªåŠ¨ç”Ÿæˆï¼šå•æµ‹/å¥‘çº¦æµ‹
â”‚   â””â”€â”€ sample.test.ts
â”‚
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ ai-review.yml               # GitHub â€œåªå®¡ä¸å†™â€ è‡ªåŠ¨å®¡æŸ¥
â”‚
â”œâ”€â”€ package.json                        # æ‰€æœ‰ npm è„šæœ¬å®šä¹‰ï¼ˆai:xxxï¼‰
â””â”€â”€ README.md                           # ä»“åº“è¯´æ˜ / å·¥ä½œæµä»‹ç»


## å››ã€æ‰§è¡Œå¾ªç¯ï¼ˆæ‰§è¡Œä»£ç†ä¸å®¡æŸ¥ä»£ç†èŒè´£ï¼‰
| é˜¶æ®µ   | æ¨¡å‹/Agent          | ä½œç”¨           | è¾“å…¥                                       | è¾“å‡º                 |
| ---- | ----------------- | ------------ | ---------------------------------------- | ------------------ |
| éœ€æ±‚åˆ†æ | Codex             | ç†è§£ä¸Šä¸‹æ–‡ç”Ÿæˆ SPEC | ä¸Šä¸‹æ–‡ + 01 + rules/docs_spec               | `spec/SPEC.md`     |
| æŠ€æœ¯æ–¹æ¡ˆ | Codex             | æ¶æ„/æ–¹æ¡ˆè®¾è®¡      | `SPEC.md` + 02 + rules/solution_spec     | `spec/PLAN.md`     |
| ä»£ç å®ç° | Codex             | æŒ‰ TASK æ‰§è¡Œ    | `PLAN.md` + 03 + rules/ts_dev_guidelines | ä¿®æ”¹ `src/*`         |
| å•æµ‹ç”Ÿæˆ | Codex             | è‡ªåŠ¨ç”Ÿæˆæµ‹è¯•       | æ”¹åŠ¨ä»£ç  + 04 + rules/ts_dev_guidelines      | `tests/*`          |
| æµç¨‹åˆ†æ | Codex             | ç”Ÿæˆæµç¨‹æ–‡æ¡£       | æºç  + 05 + rules/flow_analysis            | `docs/*-flow.md`   |
| æ·±åº¦ç ”ç©¶ | Claude/Perplexity | æŠ€æœ¯å¯¹æ¯”/é€‰å‹      | ä¸Šä¸‹æ–‡ + 99 + rules/solution_spec           | `docs/research.md` |
| å®¡æŸ¥   | Copilot           | åªå®¡ä¸å†™         | æ‰€æœ‰äº§ç‰© + rules/review_spec                 | PR è¯„è®º              |

## äº”ã€ä½¿ç”¨å¿ƒè¯€

- **å¯åŠ¨å‰**ï¼šå…ˆå†™æ¸…éœ€æ±‚ï¼ŒCodex ä¸çŒœã€‚
- **ç”Ÿæˆæ—¶**ï¼šå¤šç”¨ç¼–å·åŒ–é—®é¢˜ï¼Œå°‘ç”¨æ¨¡ç³Šè¯ã€‚
- **å®ç°æ—¶**ï¼šé”å®š scopeï¼Œå•æ­¥æ¨è¿›ã€‚
- **å®¡é˜…æ—¶**ï¼šç”¨ `[BLOCKER]/[RISK]/[NICE]` æ‰“æ ‡ç­¾ã€‚
- **ç»´æŠ¤æ—¶**ï¼šè®© CI åšâ€œåæ¶ˆæ¯ä¼ é€’è€…â€ã€‚