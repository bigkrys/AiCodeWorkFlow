{
  "scripts": {
   "ai:ctx:build": "node scripts/ai/inject-context.js --sources docs,spec,src --diff",
    "ai:understand": "node scripts/ai/codex-run.js --prompt .prompts/01_project_understanding.md --rules rules --out spec/SPEC.md",
    "ai:solution": "node scripts/ai/codex-run.js --prompt .prompts/02_solution_design.md --rules rules --in spec/SPEC.md --out spec/PLAN.md",
    "ai:impl": "node scripts/ai/codex-run.js --prompt .prompts/03_code_impl.md --rules rules --in spec/PLAN.md,spec/TASKS.md --apply src",
    "ai:test": "node scripts/ai/codex-run.js --prompt .prompts/04_unit_test.md --rules rules --in spec/SPEC.md,spec/PLAN.md --out tests",
    "ai:flow": "node scripts/ai/codex-run.js --prompt .prompts/05_flow_analysis.md --rules rules --in src --out docs",
    "ai:research": "node scripts/ai/codex-run.js --prompt .prompts/99_research.md --rules rules --out docs/research.md",
    "ai:review:local": "node scripts/ai/review-local.js --mode read-only --spec spec --docs docs --src src",
    "build": "tsc -p tsconfig.json",
    "test:watch": "vitest watch"
  }
}
